{"version":3,"sources":["datasets/nominated_films.csv","datasets/awarded_only_films.csv","datasets/top_10_awarded.csv","datasets/top_10_nominated.csv","D3Chart.js","ChartWrapper.js","App.js","index.js"],"names":["module","exports","MARGIN","WIDTH","HEIGHT","D3Chart","element","vis","this","svg","d3","append","attr","classed","tooltip","style","xLabel","yLabel","xAxisGroup","yAxisGroup","nominated_films_data","then","dataset","slice","console","log","forEach","d","nominated","won","nomineeData","update","awarded_films_data","awardeeData","awarded_details_data","awardedDetailsData","nominated_details_data","nominatedDetailsData","topic","data","text","transition","duration","x","domain","range","y","map","film","padding","xAxisCall","call","yAxisCall","selectAll","rectsNominated","exit","remove","bandwidth","enter","rectsWon","on","event","pageY","pageX","html","getDetailsInTable","keys","color","i","size","name","winner","year_ceremony","category","ChartWrapper","setState","chart","refs","nextProps","state","ref","Component","App","toggleNomineeAwards","className","content","onClick","query","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8d2e7526.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/nominated_films.68fa43f3.csv\";","module.exports = __webpack_public_path__ + \"static/media/awarded_only_films.09a00128.csv\";","module.exports = __webpack_public_path__ + \"static/media/top_10_awarded.5e5fab46.csv\";","module.exports = __webpack_public_path__ + \"static/media/top_10_nominated.702880db.csv\";","import * as d3 from \"d3\";\nimport nominated_films_data from \"./datasets/nominated_films.csv\";\nimport awarded_films_data from \"./datasets/awarded_only_films.csv\";\nimport awarded_details_data from \"./datasets/top_10_awarded.csv\";\nimport nominated_details_data from \"./datasets/top_10_nominated.csv\";\n\nconst MARGIN = { TOP: 10, BOTTOM: 50, LEFT: 160, RIGHT: 10 };\nconst WIDTH = 800 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 500 - MARGIN.TOP - MARGIN.BOTTOM;\n\nexport default class D3Chart {\n  constructor(element) {\n    const vis = this;\n\n    vis.svg = d3\n      .select(element)\n      .append(\"svg\")\n      //.attr(\"width\", WIDTH + MARGIN.LEFT + MARGIN.RIGHT)\n      //.attr(\"height\", HEIGHT + MARGIN.TOP + MARGIN.BOTTOM)\n      .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n      .attr(\"viewBox\", `0 0 800 500`)\n      .classed(\"svg-content-responsive\", true)\n      .append(\"g\")\n      .attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.tooltip = d3\n      .select(\"body\")\n      .append(\"div\")\n      .attr(\"class\", \"tooltip\")\n      .style(\"opacity\", 0);\n\n    vis.xLabel = vis.svg\n      .append(\"text\")\n      .attr(\"x\", WIDTH / 2)\n      .attr(\"y\", HEIGHT + 50)\n      .attr(\"text-anchor\", \"middle\");\n\n    vis.yLabel = vis.svg\n      .append(\"text\")\n      .attr(\"x\", -(HEIGHT / 2))\n      .attr(\"y\", -50)\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", \"rotate(-90)\");\n\n    vis.xAxisGroup = vis.svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(0, ${HEIGHT})`);\n\n    vis.yAxisGroup = vis.svg.append(\"g\");\n\n    d3.csv(nominated_films_data).then(function(dataset) {\n      dataset = dataset.slice(0, 10);\n      console.log(dataset);\n      dataset.forEach(function(d) {\n        d.nominated = +d.nominated;\n        d.won = +d.won;\n      });\n      vis.nomineeData = dataset;\n      vis.update(\"nominated\");\n    });\n\n    d3.csv(awarded_films_data).then(function(dataset) {\n      dataset = dataset.slice(0, 10);\n      console.log(dataset);\n      dataset.forEach(function(d) {\n        d.won = +d.won;\n      });\n      vis.awardeeData = dataset;\n    });\n\n    d3.csv(awarded_details_data).then(function(dataset) {\n      console.log(dataset);\n      dataset.forEach(function(d) {\n        d.won = +d.won;\n      });\n      vis.awardedDetailsData = dataset;\n    });\n\n    d3.csv(nominated_details_data).then(function(dataset) {\n      console.log(dataset);\n      dataset.forEach(function(d) {\n        d.won = +d.won;\n      });\n      vis.nominatedDetailsData = dataset;\n    });\n  }\n\n  update(topic) {\n    const vis = this;\n\n    if (topic === \"nominated\") {\n      vis.data = vis.nomineeData;\n      vis.xLabel.text(`Number of Awards/Nominations`);\n      vis.yLabel\n        .text(`Films`)\n        .transition()\n        .duration(500)\n        .attr(\"y\", -100);\n\n      // update the axis scales for transition\n      const x = d3\n        .scaleLinear()\n        .domain([0, d3.max(vis.data, d => d.nominated)])\n        .range([0, WIDTH]);\n\n      const y = d3\n        .scaleBand()\n        .domain(vis.data.map(d => d.film))\n        .range([0, HEIGHT])\n        .padding(0.4);\n\n      const xAxisCall = d3.axisBottom(x);\n      vis.xAxisGroup\n        .attr(\"transform\", `translate(0,${HEIGHT})`)\n        .transition()\n        .duration(500)\n        .call(xAxisCall);\n\n      const yAxisCall = d3.axisLeft(y);\n      vis.yAxisGroup\n        .transition()\n        .duration(500)\n        .call(yAxisCall)\n        .selectAll(\"text\")\n        .style(\"text-anchor\", \"end\")\n        .attr(\"dx\", \"-.8em\")\n        .attr(\"dy\", \".15em\")\n        .attr(\"transform\", \"rotate(-30)\");\n\n      // DATA JOIN\n      const rectsNominated = vis.svg.selectAll(\"rect.nomRect\").data(vis.data);\n\n      // EXIT\n      rectsNominated\n        .exit()\n        .transition()\n        .duration(500)\n        .attr(\"height\", 0)\n        .attr(\"width\", 0)\n        .remove();\n\n      // UPDATE\n      rectsNominated\n        .transition()\n        .duration(500)\n        .attr(\"class\", \"nomRect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", d => y(d.film))\n        .attr(\"height\", y.bandwidth)\n        .attr(\"width\", d => x(d.nominated))\n        .attr(\"fill\", \"#bddbc5\");\n\n      // ENTER\n      rectsNominated\n        .enter()\n        .append(\"rect\")\n        .transition()\n        .duration(500)\n        .attr(\"class\", \"nomRect\")\n        .attr(\"x\", 0)\n        .attr(\"width\", d => x(d.nominated))\n        .attr(\"y\", d => y(d.film))\n        .attr(\"height\", y.bandwidth)\n        .attr(\"fill\", \"#bddbc5\");\n\n      // DATA JOIN\n      const rectsWon = vis.svg.selectAll(\"rect.oscarRect\").data(vis.data);\n\n      // EXIT\n      rectsWon\n        .exit()\n        .transition()\n        .duration(500)\n        .attr(\"height\", 0)\n        .attr(\"width\", 0)\n        .remove();\n\n      // UPDATE\n      rectsWon\n        .transition()\n        .duration(500)\n        .attr(\"class\", \"oscarRect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", d => y(d.film))\n        .attr(\"height\", y.bandwidth)\n        .attr(\"width\", d => x(d.won))\n        .attr(\"fill\", \"#72ad82\");\n\n      // ENTER\n      rectsWon\n        .enter()\n        .append(\"rect\")\n        .transition()\n        .duration(500)\n        .attr(\"class\", \"oscarRect\")\n        .attr(\"x\", 0)\n        .attr(\"width\", d => x(d.won))\n        .attr(\"y\", d => y(d.film))\n        .attr(\"height\", y.bandwidth)\n        .attr(\"fill\", \"#72ad82\");\n\n      const rects = vis.svg.selectAll(\"rect\");\n      rects\n        .on(\"mousemove\", function(event) {\n          vis.tooltip\n            .style(\"top\", d3.event.pageY - 51 + \"px\")\n            .style(\"left\", d3.event.pageX - 51 + \"px\");\n        })\n        .on(\"mouseover\", function(d) {\n          if (!d.nominated) {\n            return;\n          }\n          vis.tooltip\n            .transition()\n            .duration(200)\n            .style(\"opacity\", 0.9);\n          vis.tooltip\n            .html(vis.getDetailsInTable(vis.nominatedDetailsData, d.film))\n            .style(\"left\", d3.event.pageX + \"px\")\n            .style(\"top\", d3.event.pageY - 28 + \"px\");\n        })\n        .on(\"mouseout\", function(d) {\n          vis.tooltip.transition().style(\"opacity\", 0);\n        });\n\n      vis.svg.selectAll(\".mydots\").remove();\n      vis.svg.selectAll(\".mylabels\").remove();\n\n      // create a list of keys\n      let keys = [\"Awarded\", \"Nominated\"];\n\n      // Usually you have a color scale in your chart already\n      let color = d3\n        .scaleOrdinal()\n        .domain(keys)\n        .range([\"#72ad82\", \"#bddbc5\"]);\n\n      // Add one dot in the legend for each name.\n      let size = 20;\n      vis.svg\n        .selectAll(\"mydots\")\n        .data(keys)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"mydots\")\n        .attr(\"x\", WIDTH - 100)\n        .attr(\"y\", function(d, i) {\n          return HEIGHT - 100 + i * (size + 5);\n        }) // 100 is where the first dot appears. 25 is the distance between dots\n        .attr(\"width\", size)\n        .attr(\"height\", size)\n        .style(\"fill\", function(d) {\n          return color(d);\n        });\n\n      // Add one dot in the legend for each name.\n      vis.svg\n        .selectAll(\"mylabels\")\n        .data(keys)\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", \"mylabels\")\n        .attr(\"x\", WIDTH - 100 + size * 1.2)\n        .attr(\"y\", function(d, i) {\n          return HEIGHT - 100 + i * (size + 5) + size / 2;\n        }) // 100 is where the first dot appears. 25 is the distance between dots\n        .style(\"fill\", function(d) {\n          return color(d);\n        })\n        .text(function(d) {\n          return d;\n        })\n        .attr(\"text-anchor\", \"left\")\n        .style(\"alignment-baseline\", \"middle\");\n    } else if (topic === \"awarded\") {\n      vis.data = vis.awardeeData;\n      vis.xLabel.text(`Number of Awards/Nominations`);\n      vis.yLabel\n        .text(`Films`)\n        .transition()\n        .duration(500)\n        .attr(\"y\", -100);\n\n      // update the axis scales for transition\n      const x = d3\n        .scaleLinear()\n        .domain([0, d3.max(vis.data, d => d.won)])\n        .range([0, WIDTH]);\n\n      const y = d3\n        .scaleBand()\n        .domain(vis.data.map(d => d.film))\n        .range([0, HEIGHT])\n        .padding(0.4);\n\n      const xAxisCall = d3.axisBottom(x);\n      vis.xAxisGroup\n        .attr(\"transform\", `translate(0,${HEIGHT})`)\n        .transition()\n        .duration(500)\n        .call(xAxisCall);\n\n      const yAxisCall = d3.axisLeft(y);\n      vis.yAxisGroup\n        .transition()\n        .duration(500)\n        .call(yAxisCall)\n        .selectAll(\"text\")\n        .style(\"text-anchor\", \"end\")\n        .attr(\"dx\", \"-.8em\")\n        .attr(\"dy\", \".15em\")\n        .attr(\"transform\", \"rotate(-30)\");\n\n      // DATA JOIN\n      const rectsWon = vis.svg.selectAll(\"rect\").data(vis.data);\n\n      // EXIT\n      rectsWon\n        .exit()\n        .transition()\n        .duration(500)\n        .attr(\"height\", 0)\n        .attr(\"width\", 0)\n        .remove();\n\n      // UPDATE\n      rectsWon\n        .transition()\n        .duration(500)\n        .attr(\"x\", 0)\n        .attr(\"y\", d => y(d.film))\n        .attr(\"height\", y.bandwidth)\n        .attr(\"width\", d => x(d.won))\n        .attr(\"fill\", \"#72ad82\");\n\n      // ENTER\n      rectsWon\n        .enter()\n        .append(\"rect\")\n        .transition()\n        .duration(500)\n        .attr(\"x\", 0)\n        .attr(\"width\", d => x(d.won))\n        .attr(\"y\", d => y(d.film))\n        .attr(\"height\", y.bandwidth)\n        .attr(\"fill\", \"#72ad82\");\n\n      const rects = vis.svg.selectAll(\"rect\");\n      rects\n        .on(\"mousemove\", function(event) {\n          vis.tooltip\n            .style(\"top\", d3.event.pageY - 51 + \"px\")\n            .style(\"left\", d3.event.pageX - 51 + \"px\");\n        })\n        .on(\"mouseover\", function(d) {\n          if (!d.won) {\n            return;\n          }\n          vis.tooltip\n            .transition()\n            .duration(200)\n            .style(\"opacity\", 0.9);\n          vis.tooltip\n            .html(vis.getDetailsInTable(vis.awardedDetailsData, d.film))\n            .style(\"left\", d3.event.pageX + \"px\")\n            .style(\"top\", d3.event.pageY - 28 + \"px\");\n        })\n        .on(\"mouseout\", function(d) {\n          vis.tooltip.transition().style(\"opacity\", 0);\n        });\n\n      vis.svg.selectAll(\".mydots\").remove();\n      vis.svg.selectAll(\".mylabels\").remove();\n\n      // create a list of keys\n      let keys = [\"Awarded\"];\n\n      // Usually you have a color scale in your chart already\n      let color = d3\n        .scaleOrdinal()\n        .domain(keys)\n        .range([\"#72ad82\"]);\n\n      // Add one dot in the legend for each name.\n      let size = 20;\n      vis.svg\n        .selectAll(\"mydots\")\n        .data(keys)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"mydots\")\n        .attr(\"x\", WIDTH - 100)\n        .attr(\"y\", function(d, i) {\n          return HEIGHT - 100 + i * (size + 5);\n        }) // 100 is where the first dot appears. 25 is the distance between dots\n        .attr(\"width\", size)\n        .attr(\"height\", size)\n        .style(\"fill\", function(d) {\n          return color(d);\n        });\n\n      // Add one dot in the legend for each name.\n      vis.svg\n        .selectAll(\"mylabels\")\n        .data(keys)\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", \"mylabels\")\n        .attr(\"x\", WIDTH - 100 + size * 1.2)\n        .attr(\"y\", function(d, i) {\n          return HEIGHT - 100 + i * (size + 5) + size / 2;\n        }) // 100 is where the first dot appears. 25 is the distance between dots\n        .style(\"fill\", function(d) {\n          return color(d);\n        })\n        .text(function(d) {\n          return d;\n        })\n        .attr(\"text-anchor\", \"left\")\n        .style(\"alignment-baseline\", \"middle\");\n    }\n  }\n  getDetailsInTable(dataset, name) {\n    let html = \"<table border=1>\";\n    html += \"<tr><th>Year</th><th>Category<th>Name</th><th>Winner</th></tr>\";\n    console.log(dataset);\n    dataset.forEach(data => {\n      console.log(data.film + \" and \" + name);\n      if (data.film === name) {\n        if (data.winner === \"True\") {\n          html += '<tr bgcolor=\"#adc3f0\">';\n        } else {\n          html += \"<tr>\";\n        }\n        html += \"<td>\" + data.year_ceremony + \"</td>\";\n        html += \"<td>\" + data.category + \"</td>\";\n        html += \"<td>\" + data.name + \"</td>\";\n        html += \"<td>\" + data.winner + \"</td>\";\n        html += \"</tr>\";\n      }\n    });\n    html += \"</table>\";\n    return html;\n  }\n}\n","import React, { Component } from 'react';\nimport D3Chart from './D3Chart';\n\nexport default class ChartWrapper extends Component {\n\tcomponentDidMount() {\n\t\tthis.setState({\n\t\t\tchart: new D3Chart(this.refs.chart)\n\t\t})\n\t}\n\n\tshouldComponentUpdate() {\n\t\treturn false\n\t}\n\n\tUNSAFE_componentWillReceiveProps(nextProps) {\n\t\tthis.state.chart.update(nextProps.topic)\n\t}\n\t\n\trender() {\n\t\treturn <div ref=\"chart\"></div>\n\t}\n}","import React, { Component } from \"react\";\nimport ChartWrapper from \"./ChartWrapper\";\nimport content from \"./content/content\";\n\nclass App extends Component {\n  state = {\n    topic: \"nominated\"\n  };\n\n  toggleNomineeAwards = topic => this.setState({ topic });\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"row\">\n          <div className=\"header col-xs-offset-1 col-xs-11\">\n            <p>The Oscar Awards (1927 - 2020)</p>\n            <div className=\"subheader\">\n              <p>A visualisation by KJSBryant</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-offset-1 col-xs-6\">\n            <hr></hr>\n          </div>\n        </div>\n        <div className=\"article\">\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-6\">\n              <p className=\"text-content\">{content[0].text}</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-1 col-xs-7\">\n              <ChartWrapper\n                className=\"vis-center-container\"\n                topic={this.state.topic}\n              />\n            </div>\n            <div className=\"col-xs-1\">\n              <div className=\"row\">\n                <button\n                  className=\"float\"\n                  onClick={() => this.toggleNomineeAwards(\"nominated\")}\n                >\n                  1\n                </button>\n              </div>\n              <div className=\"row\">\n                <button\n                  className=\"float\"\n                  onClick={() => this.toggleNomineeAwards(\"awarded\")}\n                >\n                  2\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-6\">\n              <p className=\"query-content\">{content[1].query}</p>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-offset-2 col-xs-6\">\n              <p className=\"query-content\">{content[2].query}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}